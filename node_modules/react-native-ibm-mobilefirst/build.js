var exec = require('child_process').exec;
var execFile = require('child_process').execFile;
var os  = require('os');

const puts = function (error, stdout, stderr) { 
    console.log('stdout: ' + stdout);
    console.log('stderr: ' + stderr);
    if (error !== null) {
        console.log('exec error: ' + error);
    }
};

console.log("OS Detected: ");
switch(os.type()) {
    case "Darwin":
        console.log("MacOS");
        exec("chmod +x scripts/postinstall-mac.sh && ./scripts/postinstall-mac.sh", puts);
        break;
    case "Windows_NT":
        console.log("Windows");
        execFile("scripts\\postinstall-win.cmd", puts);
        break;
    case "Linux":
    default:
        console.log("Platform not supported");
}