require 'json'
package = JSON.parse(File.read(File.join(__dir__, './', 'package.json')))

Pod::Spec.new do |s|
  s.name          = package['name']
  s.version       = "8.0"
  s.summary       = package['description']
  s.requires_arc  = true
  s.author        = package['author']
  s.license       = package['license']
  s.homepage      = "https://git.ng.bluemix.net/ibmmfpf/react-native-ibm-mobilefirst/tree/master"
  s.source        = { :git => 'git@git.ng.bluemix.net:ibmmfpf/react-native-ibm-mobilefirst.git' }
  s.source_files  = "ios/*.{h,m}"
  s.platform      = :ios, '9.0'
  s.dependency      'React'

  s.subspec 'jsonstore' do |ss|
    ss.dependency 'IBMMobileFirstPlatformFoundationPush'
    ss.dependency 'React'
    ss.preserve_paths = 'ios/include/*.h'
    ss.vendored_libraries = 'ios/lib/libRNMfpPushPlugin.a'
    #ss.libraries = 'RNMfpPushPlugin'
  end
end
